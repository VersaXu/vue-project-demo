import{h as v,d as h,r as m,b as k,_ as b,o as d,c,e as t,a as C,F as g,f as $,t as _,g as f,n as F,i as B,j as w}from"./index-DFyfGeut.js";const p={async getModels(){return v.get("/api/models")},async updateModel(e,n){return v.patch(`/api/models/${e}`,n)},async deleteModel(e){return v.delete(`/api/models/${e}`)}},L=h({name:"ModelList",setup(){const e=m([]),n=m(!1),l=m(null),i=async()=>{try{n.value=!0,e.value=await p.getModels()}catch(a){l.value="Failed to load models",console.error(a)}finally{n.value=!1}},r=async a=>{try{console.log("Editing model:",a)}catch(o){l.value="Failed to edit model",console.error(o)}},u=async a=>{try{confirm("Are you sure you want to delete this model?")&&(await p.deleteModel(a),e.value=e.value.filter(o=>o.id!==a))}catch(o){l.value="Failed to delete model",console.error(o)}},s=async a=>{try{const o=await p.updateModel(a.id,{enabled:!a.enabled}),M=e.value.findIndex(y=>y.id===a.id);M!==-1&&(e.value[M]=o)}catch(o){l.value="Failed to update model status",console.error(o),a.enabled=!a.enabled}};return k(i),{models:e,loading:n,error:l,handleEdit:r,handleDelete:u,toggleModelStatus:s}}}),D={class:"model-list-container"},E={class:"model-table"},N={class:"model-name"},S={class:"model-department"},A={class:"model-status"},I={class:"switch"},V=["checked","onChange"],x={class:"model-actions"},z=["onClick"],j=["onClick"];function q(e,n,l,i,r,u){return d(),c("div",D,[n[2]||(n[2]=t("h2",null,"添加模型",-1)),t("div",E,[n[1]||(n[1]=C('<div class="model-header" data-v-99aed6c0><div class="model-name" data-v-99aed6c0>模型名称</div><div class="model-department" data-v-99aed6c0>授权部门</div><div class="model-status" data-v-99aed6c0>状态</div><div class="model-actions" data-v-99aed6c0>操作</div></div>',1)),(d(!0),c(g,null,$(e.models,s=>(d(),c("div",{key:s.id,class:"model-row"},[t("div",N,_(s.name),1),t("div",S,_(s.department),1),t("div",A,[t("label",I,[t("input",{type:"checkbox",checked:s.enabled,onChange:a=>e.toggleModelStatus(s)},null,40,V),n[0]||(n[0]=t("span",{class:"slider round"},null,-1))])]),t("div",x,[t("button",{class:"action-btn",onClick:a=>e.handleEdit(s.id)},"编辑",8,z),t("button",{class:"action-btn",onClick:a=>e.handleDelete(s.id)},"删除",8,j)])]))),128))])])}const G=b(L,[["render",q],["__scopeId","data-v-99aed6c0"]]),H=h({name:"ModelManagementLayout",components:{ModelList:G},setup(){return{activeNav:m("custom-model"),navItems:[{name:"home",label:"主页"},{name:"license",label:"License"},{name:"user-management",label:"用户管理"},{name:"organization",label:"组织架构"},{name:"knowledge",label:"知识管理"},{name:"data",label:"数据管理"},{name:"open-center",label:"开放中心"},{name:"custom-model",label:"自定义模型"},{name:"custom-command",label:"自定义指令"},{name:"settings",label:"配置中心"}]}}}),J={class:"model-management-container"},K={class:"sidebar"},O=["onClick"],P={class:"main-content"};function Q(e,n,l,i,r,u){const s=f("ModelList");return d(),c("div",J,[t("div",K,[t("nav",null,[t("ul",null,[(d(!0),c(g,null,$(e.navItems,a=>(d(),c("li",{key:a.name,class:F({active:e.activeNav===a.name}),onClick:o=>e.activeNav=a.name},_(a.label),11,O))),128))])])]),t("div",P,[n[0]||(n[0]=t("header",{class:"top-nav"},[t("div",{class:"search-container"},[t("input",{type:"text",placeholder:"输入模型或部门名称搜索"}),t("button",{class:"download-btn"},"下载安装")])],-1)),B(s)])])}const R=b(H,[["render",Q],["__scopeId","data-v-489b2a47"]]),T=h({name:"ModelManagementView",components:{ModelManagementLayout:R}});function U(e,n,l,i,r,u){const s=f("ModelManagementLayout");return d(),w(s)}const X=b(T,[["render",U]]);export{X as default};
